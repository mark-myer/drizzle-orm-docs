import{r as l,R as ae}from"./index.CjZlQXZN.js";import{s as ce,a as B,b as T,c as x,d as $,e as C,f as E,g as M,h as b}from"./index.88cfb5f7.BhjRmhLj.js";var ie={exports:{}},H={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var de=l,ue=Symbol.for("react.element"),me=Symbol.for("react.fragment"),ve=Object.prototype.hasOwnProperty,he=de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xe={key:!0,ref:!0,__self:!0,__source:!0};function re(r,i,t){var s,g={},n=null,a=null;t!==void 0&&(n=""+t),i.key!==void 0&&(n=""+i.key),i.ref!==void 0&&(a=i.ref);for(s in i)ve.call(i,s)&&!xe.hasOwnProperty(s)&&(g[s]=i[s]);if(r&&r.defaultProps)for(s in i=r.defaultProps,i)g[s]===void 0&&(g[s]=i[s]);return{$$typeof:ue,type:r,key:n,ref:a,props:g,_owner:he.current}}H.Fragment=me;H.jsx=re;H.jsxs=re;ie.exports=H;var e=ie.exports;const ne=l.createContext(void 0);function oe(){const r=l.useContext(ne);if(!r)throw new Error("useBenchmarkContext must be used within a BenchmarkProvider");return r}function $e({children:r}){const[i,t]=l.useState(0),s=l.useRef(0),[g,n]=l.useState([]),[a,p]=l.useState([]),[f,h]=l.useState(!0),u={isTimerActive:f,setIsTimerActive:h,time:i,setTime:t,intervalId:s,concatedDataDrizzle:g,setConcatedDataDrizzle:n,concatedDataCompare:a,setConcatedDataCompare:p};return e.jsx(ne.Provider,{value:u,children:r})}const pe="modulepreload",fe=function(r){return"/"+r},G={},R=function(i,t,s){let g=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),a=n?.nonce||n?.getAttribute("nonce");g=Promise.all(t.map(p=>{if(p=fe(p),p in G)return;G[p]=!0;const f=p.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${h}`))return;const u=document.createElement("link");if(u.rel=f?"stylesheet":pe,f||(u.as="script",u.crossOrigin=""),u.href=p,a&&u.setAttribute("nonce",a),document.head.appendChild(u),f)return new Promise((j,d)=>{u.addEventListener("load",j),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${p}`)))})}))}return g.then(()=>i()).catch(n=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=n,window.dispatchEvent(a),!a.defaultPrevented)throw n})},X=(r,i,t)=>{const s=r[i];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((g,n)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+i+(i.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})},je=({time:r})=>{const i=Math.floor(r%36e4/6e3),t=Math.floor(r%6e3/100),s=r%100;return e.jsxs("div",{className:ce.wrap,children:[i.toString().padStart(2,"0"),":",t.toString().padStart(2,"0"),":",s.toString().padStart(2,"0")]})},ge=({speed:r,setSpeed:i})=>{const[t,s]=l.useState(!1),g=l.useRef(null),n=()=>{s(!t)},a=[1,2,4,8,16,32],p=f=>{i(f),s(!1)};return l.useEffect(()=>{const f=h=>{g.current&&!g.current.contains(h.target)&&s(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]),e.jsxs("div",{className:B.wrap,ref:g,children:[e.jsx("div",{className:B.button,onClick:n,children:e.jsxs("div",{children:[r,"X"]})}),t&&e.jsx("div",{className:B["items-wrap"],children:e.jsx("div",{className:B.block,children:e.jsx("div",{className:B.items,children:a.map(f=>e.jsx("div",{className:r===f?B["active-item"]:B.item,onClick:()=>p(f),children:e.jsxs("div",{className:B.text,children:[f,"X"]})},f))})})})]})},O={orm:{value:"ORM",items:{prisma:{value:"Drizzle vs Prisma",config_info:"Drizzle vs Prisma",drizzle_version:"v0.28.1",compare_version:"v5.1.1"},typeorm:{value:"Drizzle vs TypeORM",config_info:"Drizzle vs TypeORM",disabled:!0}}},traffic:{value:"Traffic size",items:{your_startup:{value:"Your startup",description:"0 users and 0 requests",config_info:"Your startup(0 users)"},micro:{value:"Micro",description:"200VUs, 240k reqs",config_info:"Micro traffic size(200VUs)"},small:{value:"Small",description:"500VUs, 600k reqs",config_info:"Small traffic size(500VUs)"},medium:{value:"Medium",description:"1k VUs, 1M reqs",config_info:"Medium traffic size(1000VUs)"},high:{value:"High",disabled:!0},huge:{value:"Huge",disabled:!0},extreme:{value:"Extreme",disabled:!0},blackFriday:{value:"Black Friday",disabled:!0}}},dbSize:{value:"Database size",items:{micro:{value:"Micro",description:"43mb",config_info:"Micro database size"},small:{value:"Small",disabled:!0},medium:{value:"Medium",disabled:!0},large:{value:"Large",disabled:!0},huge:{value:"Huge",disabled:!0},extreme:{value:"Extreme",disabled:!0}}},projectType:{value:"Project type",items:{ecommerce:{value:"E-commerce",config_info:"E-commerce"},social:{value:"Social with messaging",config_info:"Social with messaging",disabled:!0},geo:{value:"Geo queries heavy",disabled:!0},analytics:{value:"Analytics with time series",disabled:!0}}},database:{value:"Database",items:{postgres:{value:"PostgreSQL",config_info:"PostgreSQL"},mysql:{value:"MySQL",disabled:!0},sqlite:{value:"SQLite",disabled:!0},serverless_postgres:{value:"Serverless PostgreSQL",disabled:!0},serverless_mysql:{value:"Serverless MySQL",disabled:!0},serverless_sqlite:{value:"Serverless SQLite",disabled:!0}}}},Ne=({selectedItems:r,setSelectedItems:i,isOpened:t})=>{const[s,g]=ae.useState("orm"),[n,a]=l.useState(null),p=h=>{g(h)},f=(h,u)=>{h.disabled||!n||n[s]!==u&&a({...r,[s]:u})};return l.useEffect(()=>{a({...r})},[]),l.useEffect(()=>{n&&Object.keys(n).some(u=>n[u]!==r[u])&&i({...n})},[t]),e.jsxs("div",{className:t?T["wrap-opened"]:T.wrap,children:[e.jsx("div",{className:T.tabs,children:Object.keys(r).map(h=>e.jsx("button",{type:"button",className:s===h?T["active-tab"]:T.tab,onClick:()=>p(h),children:O[h].value},h))}),e.jsx("div",{className:T.options,children:n&&Object.keys(O[s].items).map(h=>{const u=O[s].items[h];return e.jsx("button",{type:"button",className:n[s]===h?T["active-option"]:T.option,onClick:()=>f(u,h),disabled:O[s].items[h].disabled,children:e.jsxs("div",{className:T.text,children:[e.jsxs("div",{className:T.title,children:[u.value,!u.disabled&&u.description&&e.jsxs("div",{className:T.description,children:["‚Üí ",u.description]})]}),u.disabled&&e.jsx("div",{className:T.disabled,children:"coming soon"})]})},h)})})]})},Z=1e3,Y=170,A=900,J=(r,i,t)=>{if(i<0||i>=r.length||t<=0)return[];const s=Math.max(0,i-t+1);return r.slice(s,i+1)},Q=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",width:"20",height:"20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})}),W=(r,i=0)=>{if(Number.isInteger(r))return r;const t=10**i;return Math.round(r*t)/t},U=r=>r<100?`${r.toFixed(1)}ms`:r<1e3?`${W(r)}ms`:`${W(r/1e3,2)}s`,K=({setSelectedItemIndex:r,selectedItemIndex:i,pathArray:t,max:s,maxDataLength:g,isCompleted:n,averageLatency:a,averageLatencyCompare:p,averageP99:f,averageP99Compare:h,showTooltip:u})=>{const[j,d]=l.useState({x:0,y:0}),N=Y,w=A,z=l.useRef(null),_=l.useRef(null),k=["p99","p95","p90","avg"],m=w/(g-1),q=(o,y)=>o.length===0||!s?"":o.map((V,le)=>`${(le*m).toFixed()},${(N-N*+V.latency[y]/s).toFixed()}`).join(","),F=l.useMemo(()=>e.jsxs(e.Fragment,{children:[e.jsx("line",{className:x["dashed-line"],strokeWidth:"1",x1:0,x2:w,y1:1,y2:1,strokeDasharray:"12, 12"}),e.jsx("line",{className:x["dashed-line"],strokeWidth:"1",x1:0,x2:w,y1:N/3,y2:N/3,strokeDasharray:"12, 12"}),e.jsx("line",{className:x["dashed-line"],strokeWidth:"1",x1:0,x2:w,y1:N/3*2,y2:N/3*2,strokeDasharray:"12, 12"}),e.jsx("line",{className:x["dashed-line"],strokeWidth:"1",x1:0,x2:w,y1:N,y2:N})]}),[]),D=(o,y)=>o.length===0||!s?{}:{cx:((o.length-1)*m).toFixed(),cy:(N-N*+o[o.length-1].latency[y]/s).toFixed()},v=l.useMemo(()=>{if(s)return k.map((o,y)=>e.jsx("circle",{strokeWidth:"3",className:x[`${o}-circle`],r:"3.5","data-screenshot-exclude":"true",...D(t,o)},y))},[t]),P=l.useMemo(()=>k.map((o,y)=>e.jsxs("g",{children:[e.jsx("polyline",{fill:"none",className:x[`${o}-line`],strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round",points:q(t,o)}),e.jsx("polyline",{className:x[`${o}-polygon`],strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round",points:`0 ${N} ${q(t,o)} ${(t.length-1)*m} ${N}`})]},y)),[t]),L=l.useMemo(()=>t.map((o,y)=>e.jsx("rect",{fill:"transparent",width:m,height:N,onMouseEnter:()=>r(y),x:y*m-m/2,y:0},y)),[t.length]),S=()=>{r(null)},c=()=>{if(i!==null)return k.map((o,y)=>e.jsx("circle",{strokeWidth:"3",className:x[`${o}-circle`],r:"3.5","data-screenshot-exclude":"true",cx:i*m,cy:N-N*+t[i].latency[o]/s},y))};return l.useEffect(()=>{if(_.current&&i!==null){const{x:o,y}=_.current.getBoundingClientRect(),{width:V}=z.current.getBoundingClientRect();if(o+V/2>window.innerWidth-20){d({x:o-(o+V/2-window.innerWidth)-20,y:y+window.scrollY});return}if(o-V/2<20){d({x:o-(o-V/2-20),y:y+window.scrollY});return}d({x:o+window.scrollX,y:y+window.scrollY})}},[i]),e.jsxs("div",{children:[e.jsxs("div",{className:x.header,children:[e.jsxs("div",{className:x.label,children:["avg latency: ",U(a)]}),t.length>0&&n&&u&&e.jsxs("div",{className:x["success-values"],children:[e.jsxs("div",{className:n&&u?x["tooltip-wrap-underline"]:x["tooltip-wrap"],children:[e.jsxs("div",{className:x.tooltip,children:["Drizzle has x",W(+p.toFixed()/+a.toFixed(),1)," ","times better average latency"]}),e.jsx("div",{className:x["success-icon-wrap"],children:e.jsx(Q,{})}),"x",W(+p.toFixed()/+a.toFixed(),1)]}),e.jsx("span",{children:" | "}),e.jsxs("div",{className:n&&u?x["tooltip-wrap-underline"]:x["tooltip-wrap"],children:[e.jsxs("div",{className:x.tooltip,children:["Drizzle has x",W(+h.toFixed()/+f.toFixed(),1)," ","times better p99 latency"]}),"x",W(+h.toFixed()/+f.toFixed(),1)]})]})]}),e.jsxs("div",{className:x["chart-wrap"],children:[e.jsx("svg",{viewBox:`0 0 ${w+7} ${N+15}`,className:"chart",children:e.jsxs("g",{transform:"translate(0,10)",onMouseLeave:S,children:[F,P,L,v,i!==null&&e.jsx("line",{ref:_,className:x["selected-line"],stroke:"#000000",strokeWidth:"1",x1:i*m,x2:i*m,y1:0,y2:N}),i!==null&&c()]})}),i!==null&&e.jsxs("div",{className:x.stats,ref:z,style:{left:j.x,top:j.y},children:[e.jsxs("div",{className:x["stats-item"],children:[e.jsx("div",{className:`${x.circle} ${x["stats-avg"]}`}),"avg:",e.jsx("div",{className:x["accent-text"],children:U(t[i].latency.avg)})]}),e.jsxs("div",{className:x["stats-item"],children:[e.jsx("div",{className:`${x.circle} ${x["stats-p90"]}`}),"p90:",e.jsx("div",{className:x["accent-text"],children:U(t[i].latency.p90)})]}),e.jsxs("div",{className:x["stats-item"],children:[e.jsx("div",{className:`${x.circle} ${x["stats-p95"]}`}),"p95:",e.jsx("div",{className:x["accent-text"],children:U(t[i].latency.p95)})]}),e.jsxs("div",{className:x["stats-item"],children:[e.jsx("div",{className:`${x.circle} ${x["stats-p99"]}`}),"p99:",e.jsx("div",{className:x["accent-text"],children:U(t[i].latency.p99)})]})]})]})]})},I=r=>r<1e3?r.toFixed():r<1e6?`${(r/1e3).toFixed(1)}k`:`${(r/1e6).toFixed()}M`,ee=({setSelectedItemIndex:r,selectedItemIndex:i,pathArray:t,max:s,maxDataLength:g,isCompleted:n,requests:a,totalRequests:p,totalRequestsCompare:f,showTooltip:h})=>{const[u,j]=l.useState({x:0,y:0}),d=Y,N=A,w=l.useRef(null),z=l.useRef(null),_=l.useRef(null),k=N/g,m=(N-k/2)/(g-1),q=S=>S.map((c,o)=>`${(o*m).toFixed(2)},${d},${(o*m).toFixed(2)},${(d-d*c.reqs/s).toFixed(2)},${(o*m+m/2).toFixed(2)},${(d-d*c.reqs/s).toFixed(2)},${(o*m+m/2).toFixed(2)},${d},${((o+1)*m).toFixed(2)},${d}`).join(","),F=e.jsx("g",{children:e.jsx("polyline",{className:$["bar-chart"],strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round",points:`0 ${d} ${q(t)} ${((t.length-1)*m).toFixed(2)} ${d}`})}),D=()=>t.length>0?t.map(()=>`v-${d}h${(m/2).toFixed(2)}v${d}h${(m/2).toFixed(2)}`).join(""):"0",v=e.jsx("path",{className:$["bar-chart-empty"],strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round",d:`M0 ${d} ${D()} ${d}Z`}),P=l.useMemo(()=>t.map((S,c)=>e.jsx("rect",{fill:"transparent",width:m,height:d,onMouseEnter:()=>r(c),x:c*m-m/4,y:0},c)),[t.length]),L=()=>{r(null)};return l.useEffect(()=>{if(w.current&&z.current&&i!==null){const{x:S}=w.current.getBoundingClientRect(),{y:c}=z.current.getBoundingClientRect(),{width:o}=_.current.getBoundingClientRect();if(S+o/2>window.innerWidth-20){j({x:S-(S+o/2-window.innerWidth)-20,y:c+window.scrollY});return}if(S-o/2<20){j({x:S-(S-o/2-20),y:c+window.scrollY});return}j({x:S+window.scrollX,y:c+window.scrollY})}},[i]),e.jsxs("div",{children:[e.jsxs("div",{className:$.header,children:[e.jsxs("div",{className:$.label,children:["avg: ",I(a)," req/sec"]}),e.jsxs("div",{className:$["info-wrap"],children:[e.jsxs("div",{className:n&&h?$["tooltip-wrap-underline"]:$["tooltip-wrap"],children:[e.jsxs("div",{className:$.tooltip,children:["Drizzle handled x",W(p/f,2)," more requests"]}),t.length>0&&n&&h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:$["success-icon-wrap"],children:e.jsx(Q,{})}),"x",W(p/f,2)]})]}),t.length>0&&n&&h&&" | ",I(p)]})]}),e.jsxs("div",{className:$["chart-wrap"],onMouseLeave:L,children:[e.jsx("svg",{viewBox:`0 0 ${N+7} ${d+15}`,className:"chart",children:e.jsxs("g",{ref:z,transform:"translate(0,10)",children:[e.jsx("g",{children:v}),F,i!==null&&e.jsxs("g",{children:[e.jsx("rect",{ref:w,className:$["bar-chart-empty-hover"],width:m/2,height:d,x:i*m,y:0}),e.jsx("rect",{className:$["selected-bar"],width:m/2,x:i*m,y:d-d*t[i].reqs/s,height:d-(d-d*t[i].reqs/s)})]}),e.jsx("line",{x1:"0",y1:"0",x2:N,y2:"0",fill:"none",strokeWidth:"1",className:$["bar-chart-axis"],transform:`translate(0, ${d})`}),e.jsx("g",{onMouseLeave:L,children:P})]})}),i!==null&&e.jsxs("div",{className:$.stats,ref:_,style:{top:u.y,left:u.x},children:[t[i].reqs," req/sec"]})]})]})},se=({setSelectedItemIndex:r,selectedItemIndex:i,pathArray:t,max:s,maxDataLength:g,isCompleted:n,average:a,averageCompare:p,showTooltip:f})=>{const[h,u]=l.useState({x:0,y:0}),j=Y,d=A,N=l.useRef(null),w=l.useRef(null),z=d/(g-1),_=c=>!c&&c!==0?"0":c<100?c.toFixed(1):c.toFixed(),k=c=>c.map((o,y)=>`${(y*z).toFixed()},${(j-j*o.cpus.cpus/s).toFixed()}`).join(","),m=l.useMemo(()=>e.jsxs(e.Fragment,{children:[e.jsx("line",{className:C["dashed-line"],strokeWidth:"1",x1:0,x2:d,y1:1,y2:1,strokeDasharray:"12, 12"}),e.jsx("line",{className:C["dashed-line"],strokeWidth:"1",x1:0,x2:d,y1:j/3,y2:j/3,strokeDasharray:"12, 12"}),e.jsx("line",{className:C["dashed-line"],strokeWidth:"1",x1:0,x2:d,y1:j/3*2,y2:j/3*2,strokeDasharray:"12, 12"}),e.jsx("line",{className:C["dashed-line"],strokeWidth:"1",x1:0,x2:d,y1:j,y2:j})]}),[]),q=c=>c.length===0?{}:{cx:((c.length-1)*z).toFixed(2),cy:(j-j*c[c.length-1].cpus.cpus/s).toFixed()},F=l.useMemo(()=>e.jsx("circle",{className:C.circle,strokeWidth:"3",r:"3.5","data-screenshot-exclude":"true",...q(t)}),[t]),D=l.useMemo(()=>e.jsxs("g",{children:[e.jsx("polyline",{fill:"none",className:C.line,strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round",points:k(t)}),e.jsx("polyline",{fill:"url(#linegraph-blue-gradient)",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round",points:`0 ${j} ${k(t)} ${((t.length-1)*z).toFixed()} ${j}`})]}),[t]),v=l.useMemo(()=>t.map((c,o)=>e.jsx("rect",{fill:"transparent",width:z,height:j,onMouseEnter:()=>r(o),x:o*z-z/2,y:0},o)),[t.length]),P=()=>{r(null)},L=()=>{if(i!==null)return e.jsx("circle",{strokeWidth:"3",className:C.circle,r:"3.5","data-screenshot-exclude":"true",cx:i*z,cy:j-j*t[i].cpus.cpus/s})};l.useEffect(()=>{if(N.current&&i!==null&&w.current){const{x:c,y:o}=N.current.getBoundingClientRect(),{width:y}=w.current.getBoundingClientRect();if(c+y/2>window.innerWidth-20){u({x:c-(c+y/2-window.innerWidth)-20,y:o+window.scrollY});return}if(c-y/2<20){u({x:c-(c-y/2-20),y:o+window.scrollY});return}u({x:c+window.scrollX,y:o+window.scrollY})}},[i]);const S=()=>W((p||0)/(a||0),2);return e.jsxs("div",{children:[e.jsxs("div",{className:C.header,children:[e.jsxs("div",{className:C.label,children:["avg CPU load: ",_(a),"%"]}),t.length>0&&n&&f&&e.jsxs("div",{className:n&&f?C["tooltip-wrap-underline"]:C["tooltip-wrap"],children:[e.jsxs("div",{className:C.tooltip,children:["Drizzle has x",S()," lower cpu usage"]}),e.jsx("div",{className:C["success-icon-wrap"],children:e.jsx(Q,{})}),"x",S()]})]}),e.jsxs("div",{className:C["chart-wrap"],children:[e.jsxs("svg",{viewBox:`0 0 ${d+7} ${j+15}`,className:"chart",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"linegraph-blue-gradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[e.jsx("stop",{className:C["color-stop-polygon"],offset:"0%",stopOpacity:"0.85"}),e.jsx("stop",{className:C["color-stop-polygon"],offset:"90%",stopOpacity:"0.1"})]})}),e.jsxs("g",{transform:"translate(0,10)",onMouseLeave:P,children:[m,D,v,F,i!==null&&e.jsx("line",{ref:N,className:C["selected-line"],strokeWidth:"1",x1:i*z,x2:i*z,y1:0,y2:j}),i!==null&&L()]})]}),i!==null&&e.jsx("div",{className:C.stats,ref:w,style:{top:h.y,left:h.x},children:e.jsxs("div",{className:C["stats-item"],children:["CPUs:",e.jsxs("div",{className:C["accent-text"],children:[e.jsxs("span",{children:[_(t[i].cpus.cpu1),"%"," "]}),e.jsxs("span",{children:[_(t[i].cpus.cpu2),"%"," "]}),e.jsxs("span",{children:[_(t[i].cpus.cpu3),"%"," "]}),e.jsxs("span",{children:[_(t[i].cpus.cpu4),"%"," "]})]})]})})]})]})},_e=()=>e.jsxs("svg",{width:"160",height:"160",viewBox:"0 0 160 160",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:"9.63139",height:"40.8516",rx:"4.8157",transform:"matrix(0.873028 0.48767 -0.497212 0.867629 43.4805 67.3037)",fill:"currentColor"}),e.jsx("rect",{width:"9.63139",height:"40.8516",rx:"4.8157",transform:"matrix(0.873028 0.48767 -0.497212 0.867629 76.9395 46.5342)",fill:"currentColor"}),e.jsx("rect",{width:"9.63139",height:"40.8516",rx:"4.8157",transform:"matrix(0.873028 0.48767 -0.497212 0.867629 128.424 46.5352)",fill:"currentColor"}),e.jsx("rect",{width:"9.63139",height:"40.8516",rx:"4.8157",transform:"matrix(0.873028 0.48767 -0.497212 0.867629 94.957 67.3037)",fill:"currentColor"})]}),ye=()=>e.jsx("svg",{width:"252",height:"252",viewBox:"0 0 252 252",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M62.18 147.393C60.584 149.985 60.6087 153.256 62.2437 155.823L91.8367 202.298C93.7573 205.314 97.4593 206.69 100.895 205.663L186.294 180.158C190.954 178.766 193.298 173.59 191.261 169.191L136.363 50.6321C133.687 44.8503 125.615 44.3757 122.273 49.8035L62.18 147.393ZM134.905 77.7358C133.738 75.0479 129.787 75.4619 129.208 78.3328L108.072 183.103C107.626 185.313 109.704 187.199 111.873 186.555L170.877 169.019C172.599 168.508 173.486 166.614 172.772 164.972L134.905 77.7358Z"})}),te=({logo:r})=>r==="drizzle"?e.jsx(_e,{}):r==="prisma"?e.jsx(ye,{}):null,we=({selectedItems:r,isConfigOpen:i,maxElements:t,data:s,speed:g,compareData:n,maxDataLength:a})=>{const{isTimerActive:p,setIsTimerActive:f,time:h,setTime:u,intervalId:j,concatedDataDrizzle:d,setConcatedDataDrizzle:N,concatedDataCompare:w,setConcatedDataCompare:z}=oe(),[_,k]=l.useState(null),[m,q]=l.useState(0),[F,D]=l.useState(0);l.useEffect(()=>{if(!(!s||!n))return _===null&&p&&v<a?j.current=window.setInterval(()=>{u(P=>P+1*g)},10):(_===null&&v===a&&u(a*100),clearInterval(j.current)),()=>clearInterval(j.current)},[s,n,_,p,g]);const v=l.useMemo(()=>Math.floor(h*10/Z)>=a?a:Math.floor(h*10/Z),[s,n,h,a]);return l.useEffect(()=>{if(!s||!n)return;const P=Math.max(s[a].max.latency,n[a].max.latency);q(P);const L=Math.max(s[a].max.reqs,n[a].max.reqs);return D(L),k(null),f(!0),N(s.slice(0,1)),z(n.slice(0,1)),u(0),()=>{k(null),f(!0),u(0)}},[s,n]),l.useEffect(()=>{!s||!n||(v===a&&(u(a*100),clearInterval(j.current),f(!1)),N(J(s,v,t)),z(J(n,v,t)))},[v]),e.jsxs("div",{className:i?E["wrap-hide"]:E.wrap,children:[e.jsxs("div",{className:E["compare-item"],children:[e.jsx("div",{className:E["compare-icon-wrap"],children:e.jsx(te,{logo:"drizzle"})}),e.jsxs("div",{children:[e.jsx("div",{className:E.name,children:"Drizzle"}),e.jsx("div",{className:E.version,children:O.orm.items[r.orm].drizzle_version})]})]}),e.jsxs("div",{className:E["compare-item"],children:[e.jsx("div",{className:E["compare-icon-wrap"],children:e.jsx(te,{logo:r.orm})}),e.jsxs("div",{children:[e.jsx("div",{className:E.name,children:r.orm}),e.jsx("div",{className:E.version,children:O.orm.items[r.orm].compare_version})]})]}),e.jsx("div",{className:E.block,children:e.jsx(K,{setSelectedItemIndex:k,selectedItemIndex:_,pathArray:d,max:m,maxDataLength:t,averageLatency:s?s[v].avg.latency:0,averageLatencyCompare:n?n[v].avg.latency:0,averageP99:s?s[v].avg.p99:0,averageP99Compare:n?n[v].avg.p99:0,showTooltip:!0,isCompleted:v===a})}),e.jsx("div",{className:E.block,children:e.jsx(K,{setSelectedItemIndex:k,selectedItemIndex:_,pathArray:w,max:m,maxDataLength:t,averageLatency:n?n[v].avg.latency:0,averageLatencyCompare:s?s[v].avg.latency:0,averageP99:n?n[v].avg.p99:0,averageP99Compare:s?s[v].avg.p99:0,isCompleted:v===a})}),e.jsx("div",{className:E.block,children:e.jsx(ee,{requests:s?s[v].avg.reqs:0,totalRequests:s?s[v].totalReqs:0,totalRequestsCompare:n?n[v].totalReqs:0,setSelectedItemIndex:k,selectedItemIndex:_,pathArray:d,maxDataLength:t,max:F,isCompleted:v===a,showTooltip:!0})}),e.jsx("div",{className:E.block,children:e.jsx(ee,{requests:n?n[v].avg.reqs:0,totalRequests:n?n[v].totalReqs:0,totalRequestsCompare:s?s[v].totalReqs:0,setSelectedItemIndex:k,selectedItemIndex:_,pathArray:w,maxDataLength:t,max:F,isCompleted:v===a})}),e.jsx("div",{className:E.block,children:e.jsx(se,{setSelectedItemIndex:k,selectedItemIndex:_,pathArray:d,max:100,maxDataLength:t,showTooltip:!0,average:s?s[v].avg.cpus:0,averageCompare:n?n[v].avg.cpus:0,isCompleted:v===a})}),e.jsx("div",{className:E.block,children:e.jsx(se,{setSelectedItemIndex:k,selectedItemIndex:_,pathArray:w,max:100,maxDataLength:t,average:n?n[v].avg.cpus:0,averageCompare:s?s[v].avg.cpus:0,isCompleted:v===a})})]})},be=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-settings",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),ze=({selectedItems:r})=>e.jsxs("div",{className:M.items,children:[e.jsx("div",{children:e.jsx("div",{className:M["main-info"],children:O.orm.items[r.orm].config_info})}),e.jsx("br",{}),e.jsxs("div",{className:M["main-items"],children:[e.jsx("div",{className:M["main-info"],children:O.traffic.items[r.traffic].config_info}),e.jsx("div",{className:M["main-info"],children:O.dbSize.items[r.dbSize].config_info}),e.jsx("div",{className:M["main-info"],children:O.projectType.items[r.projectType].config_info}),e.jsx("div",{className:M["main-info"],children:O.database.items[r.database].config_info})]}),e.jsx("br",{}),e.jsxs("div",{className:M["additional-items"],children:[e.jsx("div",{className:M["additional-info"],children:"Lenovo M720q"}),e.jsx("div",{className:M["additional-info"],children:"Linux 5.15.0-86-generic x86_64"}),e.jsx("div",{className:M["additional-info"],children:"Intel Core i3-9100T"}),e.jsx("div",{className:M["additional-info"],children:"RAM 32GB DDR4 2666MHz"})]})]}),ke=[{orm:"prisma",dbSize:"micro",projectType:"ecommerce",database:"postgres",traffic:"your_startup",drizzleFileName:"drizzle-startup",compareFileName:"prisma-startup"},{orm:"prisma",dbSize:"micro",projectType:"ecommerce",database:"postgres",traffic:"small",drizzleFileName:"drizzle-500vus",compareFileName:"prisma-500vus"},{orm:"prisma",dbSize:"micro",projectType:"ecommerce",database:"postgres",traffic:"medium",drizzleFileName:"drizzle-1000vus",compareFileName:"prisma-1000vus"},{orm:"prisma",dbSize:"micro",projectType:"ecommerce",database:"postgres",traffic:"micro",drizzleFileName:"drizzle-200vus",compareFileName:"prisma-200vus"}],Ce=r=>{const{orm:i,dbSize:t,projectType:s,database:g,traffic:n}=r,a=ke.find(p=>p.orm===i&&p.dbSize===t&&p.projectType===s&&p.database===g&&p.traffic===n);return a?{drizzleFileName:a.drizzleFileName,compareFileName:a.compareFileName}:null},Re=()=>e.jsxs("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",className:"css-i6dzq1",children:[e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),e.jsx("polyline",{points:"12 5 19 12 12 19"})]}),Pe=({minWidth:r=940})=>{const{setIsTimerActive:i,isTimerActive:t,time:s,setTime:g,intervalId:n}=oe(),[a,p]=l.useState(2),[f,h]=l.useState(!0),[u,j]=l.useState(!1),[d,N]=l.useState({orm:"prisma",traffic:"medium",dbSize:"micro",projectType:"ecommerce",database:"postgres"}),[w,z]=l.useState(null),[_,k]=l.useState(null),[m,q]=l.useState(!1),F=l.useMemo(()=>w&&_?Math.min(w.length-1,_.length-1):0,[w,_]),D=async()=>{const c=Ce(d);if(!c)return{drizzleData:null,compareData:null};let o=null,y=null;return[o,y]=await Promise.all([X(Object.assign({"../../data/drizzle-1000vus.json":()=>R(()=>import("./drizzle-1000vus.DmUDq1vO.js"),[]),"../../data/drizzle-200vus.json":()=>R(()=>import("./drizzle-200vus.pp1oPV1Z.js"),[]),"../../data/drizzle-500vus.json":()=>R(()=>import("./drizzle-500vus.BfKyavas.js"),[]),"../../data/drizzle-spikes.json":()=>R(()=>import("./drizzle-spikes.BDxyYcRp.js"),[]),"../../data/drizzle-startup.json":()=>R(()=>import("./drizzle-startup.FFuJBgiW.js"),[]),"../../data/prisma-1000vus.json":()=>R(()=>import("./prisma-1000vus.BGdy47H4.js"),[]),"../../data/prisma-200vus.json":()=>R(()=>import("./prisma-200vus.CLSqHskx.js"),[]),"../../data/prisma-500vus.json":()=>R(()=>import("./prisma-500vus.05aJAjHq.js"),[]),"../../data/prisma-spikes.json":()=>R(()=>import("./prisma-spikes.DujGg_Wz.js"),[]),"../../data/prisma-startup.json":()=>R(()=>import("./prisma-startup._0VzHIsj.js"),[])}),`../../data/${c.drizzleFileName}.json`,4),X(Object.assign({"../../data/drizzle-1000vus.json":()=>R(()=>import("./drizzle-1000vus.DmUDq1vO.js"),[]),"../../data/drizzle-200vus.json":()=>R(()=>import("./drizzle-200vus.pp1oPV1Z.js"),[]),"../../data/drizzle-500vus.json":()=>R(()=>import("./drizzle-500vus.BfKyavas.js"),[]),"../../data/drizzle-spikes.json":()=>R(()=>import("./drizzle-spikes.BDxyYcRp.js"),[]),"../../data/drizzle-startup.json":()=>R(()=>import("./drizzle-startup.FFuJBgiW.js"),[]),"../../data/prisma-1000vus.json":()=>R(()=>import("./prisma-1000vus.BGdy47H4.js"),[]),"../../data/prisma-200vus.json":()=>R(()=>import("./prisma-200vus.CLSqHskx.js"),[]),"../../data/prisma-500vus.json":()=>R(()=>import("./prisma-500vus.05aJAjHq.js"),[]),"../../data/prisma-spikes.json":()=>R(()=>import("./prisma-spikes.DujGg_Wz.js"),[]),"../../data/prisma-startup.json":()=>R(()=>import("./prisma-startup._0VzHIsj.js"),[])}),`../../data/${c.compareFileName}.json`,4)]),o&&y?{drizzleData:o.data,compareData:y.data}:{drizzleData:null,compareData:null}},v=()=>{q(c=>!c),i(c=>!c)},P=()=>{!w||!_||(clearInterval(n.current),g(F*100))},L=()=>{!w||!_||(g(0),i(!0))},S=()=>{if(window.innerWidth<r&&!u){j(!0),setTimeout(()=>{j(!1)},2e3);return}u||(L(),setTimeout(()=>{h(!1)},200))};return l.useEffect(()=>(D().then(c=>{!c.drizzleData||!c.compareData||(z(c.drizzleData),k(c.compareData),L())}).catch(()=>{}),()=>{z(null),k(null)}),[d]),l.useEffect(()=>{f&&P()},[w,_]),e.jsxs("div",{className:b.content,children:[e.jsxs("div",{className:b.control,children:[e.jsxs("div",{className:b.time,children:[e.jsx(je,{time:s}),e.jsx(ge,{speed:a,setSpeed:p}),e.jsx("div",{className:b.divider}),t&&!m&&e.jsx("button",{type:"button",className:b["play-wrap"],onClick:P,children:"Skip to results"}),!t&&!m&&e.jsx("button",{type:"button",className:b["play-wrap"],onClick:L,children:"Rerun"})]}),e.jsxs("div",{className:b.config,children:[e.jsxs("div",{className:b["config-wrap"],children:[e.jsx("div",{className:b["config-popup"],children:e.jsx(ze,{selectedItems:d})}),e.jsx("div",{className:b["config-info"],children:"Benchmark Config"})]}),e.jsx("div",{className:b["arrow-wrap"],children:e.jsx(Re,{})}),e.jsx("button",{type:"button",className:b["config-button"],onClick:v,children:e.jsx(be,{})})]})]}),e.jsxs("div",{className:b.container,children:[e.jsx("div",{className:f?b.blurred:b["hide-blur"],children:w&&_&&e.jsxs("div",{className:b["blur-content"],children:[u&&e.jsx("div",{className:b["only-desktop"],children:"Only available on Desktop üñ•Ô∏è"}),e.jsx("button",{onClick:S,type:"button",className:u?b["start-shaked"]:b.start,children:"Launch your DevOps experience üöÄ"})]})}),e.jsx(we,{selectedItems:d,isConfigOpen:m,speed:a,data:w,compareData:_,maxElements:81,maxDataLength:F}),e.jsx(Ne,{isOpened:m,selectedItems:d,setSelectedItems:N}),!m&&d.traffic==="your_startup"&&e.jsxs("div",{className:b["sticker-wrap"],children:[e.jsx("div",{className:b.congrats,children:e.jsx("div",{className:b["congrats-text"],children:"At least you have great Lighthouse score!"})}),e.jsx("div",{className:b.sticker,children:e.jsx("img",{src:"/images/sticker.webp",alt:"sticker"})})]})]})]})};export{$e as B,Pe as C,e as j};
